version: '3.9'
services:
    client:
        build:
            context: .
            dockerfile: Dockerfile.client
        volumes: 
            - ./src/server:/code/server
        networks:
            - client
        depends_on: 
            - server
    server:
        build:
            context: .
            dockerfile: Dockerfile.server
        volumes: 
            - ./src/client:/code/server
        networks:
            - server
networks:
    client:
        driver: bridge
    server:
        driver: bridge
